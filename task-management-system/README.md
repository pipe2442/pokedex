# ðŸ§© Task Management â€” Generative AI Assisted Development

## This is the Task Management exercise

Normally, I first start by using ChatGPT to transform a very basic human idea into a refined and well-structured prompt.  
This allows me to perform prompt-engineering and significantly improve the quality of the instructions before using them inside Cursor.

---

### Initial Architecture Prompt (API-only scope)
```
You are a senior Ruby on Rails engineer.

Generate a Rails 8 API-only implementation for a Task resource (CRUD) with the following requirements:

Domain:
- Task fields: title (string, required), description (text, optional), status (enum), due_date (date), user_id (required FK).
- A basic User model exists.
- All Task access must be scoped to the authenticated user.

Auth / Security:
- Assume JWT authentication is already implemented with a current_user helper and a before_action :authenticate_user!.
- Never allow user_id to be set via params. Always assign task.user = current_user.
- If a user tries to access another user's task, respond with 404 (do not leak existence).

API:
- Routes: index, show, create, update, destroy under /tasks.
- JSON responses only.
- Use proper HTTP status codes (200, 201, 204, 401, 404, 422).
- Provide consistent error responses: { error: "...", details: {...} } for 422.

Model:
- status enum: todo, in_progress, done (default: todo).
- Validations: title presence, status inclusion.

Implementation:
- Include: migration, model, controller, strong params, and a simple serializer/presenter (plain Ruby method is fine).
- Add database indexes for user_id and due_date.

Testing:
- Add request specs (RSpec preferred) for:
  1) Authentication required (401)
  2) Index returns only current_user tasks
  3) Create validates fields (422)
  4) Cannot access another user's task (404)
  5) Update and delete happy paths

Output:
- Provide the code with file paths and explain any assumptions.
```
---

The result of this prompt was a fully functional first version of the backend with real request-level testing.

<img width="1010" height="337" alt="Screenshot 2026-01-12 at 8 25 35â€¯PM" src="https://github.com/user-attachments/assets/214224a4-e982-4516-819d-e30150612c41" />


---

### Strengthening the Test Suite

Normally, this would already be enough. However, for this exercise, I decided to use Cursor to take the implementation to the next level and further strengthen the test suite.

The initial generation provided solid request-level controller tests, but it did not include model-level validations.  
For that reason, I instructed Cursor to refine the solution and add proper model testing and additional edge-case coverage.

---

### Prompt Refinement via ChatGPT

Before refining the implementation, I used ChatGPT to transform my original idea into a more precise and professional prompt for Cursor.

ChatGPT Prompt:
```
Cursor did a great job generating the initial implementation. However, the generated test suite focused mainly on request-level controller tests and did not include model-level validations. To take the project to the next level, I instructed Cursor to strengthen the test coverage and ensure that all domain rules are properly tested.
```
Refined Prompt Generated by ChatGPT:
```
You are a senior Ruby on Rails engineer focused on quality, testing, and production readiness.

Review the existing Task Management API codebase and improve the test suite with the following goals:

1. Add comprehensive model-level RSpec tests for the Task model, covering:
   - Title presence validation
   - Status enum inclusion (todo, in_progress, done)
   - Default status behavior
   - Association with User
   - due_date type and basic validity

2. Add edge-case tests to ensure:
   - A Task cannot be created without a user
   - A Task cannot be created with an invalid status
   - user_id cannot be mass-assigned via params

3. Refactor any fragile or duplicated request specs to keep the suite clean and maintainable.

4. Ensure the entire test suite passes and reflects idiomatic RSpec style.

Provide only the additional specs and any minimal code changes required.
```
---

## Final Result

With only two carefully designed prompts, the project evolved into a fully tested, production-ready Rails 8 API-only backend for task management.

The complete repository with the final Rails implementation is provided as part of this submission.

You will also find a file named:
`cursor_rails_8_task_resource_api_implem.md`

which contains the full chat history, reasoning process, and generated results.
